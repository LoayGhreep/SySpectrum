[2025-05-05T17:19:12.501Z] INFO: ğŸ“¦ SQLite DB loaded from /mnt/c/Users/Anonymous/Desktop/Personal/Projects/SySpectrum/syspectrum.db
[2025-05-05T17:19:13.538Z] DEBUG: [531217cd-80ff-4f2b-859f-34eee32efa13] ğŸ§ª Validation middleware initialized with 2 rules
[2025-05-05T17:19:13.540Z] DEBUG: [3a6ac330-0a8e-426d-a923-60b103747808] ğŸ§ª Validation middleware initialized with 2 rules
[2025-05-05T17:19:13.540Z] DEBUG: [6fac768a-84cf-4472-a622-c0fe8bc8d21e] ğŸ§ª Validation middleware initialized with 2 rules
[2025-05-05T17:19:13.545Z] DEBUG: [340e2516-ec6a-4be9-a768-e6218c29f5ef] ğŸ§ª Validation middleware initialized with 3 rules
[2025-05-05T17:19:13.545Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] ğŸ§ª Validation middleware initialized with 1 rules
[2025-05-05T17:19:13.545Z] DEBUG: [ef21a398-cf97-4146-889f-5e79513c2945] ğŸ§ª Validation middleware initialized with 1 rules
[2025-05-05T17:19:13.546Z] DEBUG: [214ea3b1-ded0-4f58-9597-f73e2127afb3] ğŸ§ª Validation middleware initialized with 2 rules
[2025-05-05T17:19:13.813Z] DEBUG: [cbb3533b-86ea-49c8-b86d-192f9b414535] ğŸ§ª Validation middleware initialized with 2 rules
[2025-05-05T17:19:13.813Z] DEBUG: [f6cef2c5-dc7e-4171-b3ea-f8ab149e844a] ğŸ§ª Validation middleware initialized with 3 rules
[2025-05-05T17:19:13.814Z] DEBUG: [30e05857-1857-4108-be7d-5ee310b5f3e2] ğŸ§ª Validation middleware initialized with 2 rules
[2025-05-05T17:19:13.821Z] DEBUG: [311e465d-4f94-460c-9223-954c7e776f86] ğŸ§ª Validation middleware initialized with 1 rules
[2025-05-05T17:19:13.822Z] DEBUG: [9d9687f4-74d0-42da-bc3c-57e079b4561e] ğŸ§ª Validation middleware initialized with 1 rules
[2025-05-05T17:19:13.830Z] INFO: [41fada2b-f8dd-42c6-9013-33f220640f86] ğŸš€ Running migrations...
[2025-05-05T17:19:13.830Z] INFO: [84930592-5b33-4ef8-9c55-daf67a75cf62] ğŸš€ Starting database migration
[2025-05-05T17:19:13.830Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] ğŸ“„ Loading schema from /mnt/c/Users/Anonymous/Desktop/Personal/Projects/SySpectrum/backend/db/schema.sql
[2025-05-05T17:19:13.832Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Schema file read successfully
[2025-05-05T17:19:13.832Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] ğŸ§± Executing 5 schema statements
[2025-05-05T17:19:13.862Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Executed statement: -- ğŸ“Š Telemetry Table â€” stores agent metrics over ...
[2025-05-05T17:19:13.870Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Executed statement: CREATE INDEX IF NOT EXISTS idx_telemetry_agent_tim...
[2025-05-05T17:19:13.877Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Executed statement: -- ğŸ›°ï¸ Agents Table â€” registered agents with full ...
[2025-05-05T17:19:13.885Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Executed statement: -- ğŸ‘¥ Users Table â€” system users (admin/operator)...
[2025-05-05T17:19:13.893Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Executed statement: -- âš™ï¸ Settings Table â€” global settings
CREATE TAB...
[2025-05-05T17:19:13.893Z] INFO: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Tables created from schema.sql
[2025-05-05T17:19:13.893Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] ğŸ” Checking for default admin user
[2025-05-05T17:19:13.894Z] DEBUG: [84930592-5b33-4ef8-9c55-daf67a75cf62] ğŸ†• Admin user not found, creating default admin
[2025-05-05T17:19:13.955Z] INFO: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Default admin user created (username: admin)
[2025-05-05T17:19:13.955Z] INFO: [84930592-5b33-4ef8-9c55-daf67a75cf62] âœ… Database migrations completed successfully in 125ms
[2025-05-05T17:19:13.955Z] INFO: [41fada2b-f8dd-42c6-9013-33f220640f86] âœ… Migrations completed in 125ms
[2025-05-05T17:19:13.957Z] INFO: [41fada2b-f8dd-42c6-9013-33f220640f86] ğŸ§  Syspectrum backend running on port 8080
[2025-05-05T17:19:22.511Z] INFO: [24352e61-0d92-4fa8-a1f8-57530772a3a8] ğŸ“¥ POST /api/agents/register
[2025-05-05T17:19:22.514Z] DEBUG: [340e2516-ec6a-4be9-a768-e6218c29f5ef] ğŸ“ Running validation on POST /api/agents/register
[2025-05-05T17:19:22.514Z] INFO: [340e2516-ec6a-4be9-a768-e6218c29f5ef] âœ… Validation passed
[2025-05-05T17:19:22.514Z] DEBUG: [340e2516-ec6a-4be9-a768-e6218c29f5ef] â±ï¸ Validation duration: 0ms
[2025-05-05T17:19:22.514Z] DEBUG: [ead0dfc4-c183-423f-a910-cf72ab5ecb14] ğŸ“ POST /agents/register | payload={"hostname":"DESKTOP-TBUNGH6","platform":"linux","arch":"x64","release":"5.15.167.4-microsoft-standard-WSL2","agentVersion":"1.0.0","timestamp":1746465562393}
[2025-05-05T17:19:22.514Z] DEBUG: [89758f20-5ed8-408e-8144-f4c9d259ec6d] â• Enter registerAgent | hostname=DESKTOP-TBUNGH6, platform=linux, agentVersion=1.0.0
[2025-05-05T17:19:22.523Z] INFO: [89758f20-5ed8-408e-8144-f4c9d259ec6d] ğŸ• Agent registered and pending: DESKTOP-TBUNGH6 â†’ agent_1746465562514_56258
[2025-05-05T17:19:22.523Z] DEBUG: [89758f20-5ed8-408e-8144-f4c9d259ec6d] â±ï¸ Exit registerAgent | duration=9ms
[2025-05-05T17:19:22.524Z] INFO: [ead0dfc4-c183-423f-a910-cf72ab5ecb14] âœ… Agent registered | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:22.526Z] DEBUG: [ead0dfc4-c183-423f-a910-cf72ab5ecb14] â±ï¸ /register complete | duration=12ms
[2025-05-05T17:19:22.526Z] INFO: [24352e61-0d92-4fa8-a1f8-57530772a3a8] ğŸ“¤ POST /api/agents/register | 200 | 15ms
[2025-05-05T17:19:22.531Z] INFO: [381cf494-67ed-4821-8b61-dd51a02b6e05] ğŸ“¥ GET /api/agents/claim?hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:22.531Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] ğŸ“ Running validation on GET /api/agents/claim?hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:22.532Z] INFO: [57156505-59ac-4e0c-ab9a-b695e8da49ab] âœ… Validation passed
[2025-05-05T17:19:22.532Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] â±ï¸ Validation duration: 1ms
[2025-05-05T17:19:22.532Z] DEBUG: [af4ce2e7-c440-4b3c-b73f-13a0356c43de] ğŸ“¥ GET /agents/claim | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:22.532Z] DEBUG: [c9075d34-6c40-495a-82d0-b01bf70b4a22] ğŸ” Enter getClaimedAgent | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:22.533Z] DEBUG: [c9075d34-6c40-495a-82d0-b01bf70b4a22] â†©ï¸ getClaimedAgent result | found=false
[2025-05-05T17:19:22.533Z] DEBUG: [c9075d34-6c40-495a-82d0-b01bf70b4a22] â±ï¸ Exit getClaimedAgent | duration=1ms
[2025-05-05T17:19:22.533Z] INFO: [af4ce2e7-c440-4b3c-b73f-13a0356c43de] â³ Claim not approved | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:22.533Z] DEBUG: [af4ce2e7-c440-4b3c-b73f-13a0356c43de] â±ï¸ /claim complete | duration=1ms
[2025-05-05T17:19:22.533Z] INFO: [381cf494-67ed-4821-8b61-dd51a02b6e05] ğŸ“¤ GET /api/agents/claim?hostname=DESKTOP-TBUNGH6 | 404 | 2ms
[2025-05-05T17:19:37.544Z] INFO: [9e2319aa-60d5-49c8-9d42-e892c0a4458d] ğŸ“¥ GET /api/agents/claim?hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:37.545Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] ğŸ“ Running validation on GET /api/agents/claim?hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:37.545Z] INFO: [57156505-59ac-4e0c-ab9a-b695e8da49ab] âœ… Validation passed
[2025-05-05T17:19:37.545Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] â±ï¸ Validation duration: 0ms
[2025-05-05T17:19:37.545Z] DEBUG: [2a71fda0-df5d-471c-98fa-6f9b273954d6] ğŸ“¥ GET /agents/claim | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:37.545Z] DEBUG: [98ed13f8-f25b-41ea-aa02-046aef723bdd] ğŸ” Enter getClaimedAgent | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:37.547Z] DEBUG: [98ed13f8-f25b-41ea-aa02-046aef723bdd] â†©ï¸ getClaimedAgent result | found=false
[2025-05-05T17:19:37.547Z] DEBUG: [98ed13f8-f25b-41ea-aa02-046aef723bdd] â±ï¸ Exit getClaimedAgent | duration=2ms
[2025-05-05T17:19:37.547Z] INFO: [2a71fda0-df5d-471c-98fa-6f9b273954d6] â³ Claim not approved | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:37.548Z] DEBUG: [2a71fda0-df5d-471c-98fa-6f9b273954d6] â±ï¸ /claim complete | duration=3ms
[2025-05-05T17:19:37.548Z] INFO: [9e2319aa-60d5-49c8-9d42-e892c0a4458d] ğŸ“¤ GET /api/agents/claim?hostname=DESKTOP-TBUNGH6 | 404 | 4ms
[2025-05-05T17:19:38.180Z] INFO: [60add889-4def-4276-9390-4d2d1bc3f4e8] ğŸ“¥ PATCH /api/agents/DESKTOP-TBUNGH6
[2025-05-05T17:19:38.180Z] DEBUG: [62eb5376-a2fa-4f80-983c-cce4b26100dd] ğŸ” auth middleware invoked | requiredRole=any
[2025-05-05T17:19:38.182Z] DEBUG: [62eb5376-a2fa-4f80-983c-cce4b26100dd] âœ… Token verified | user=admin, role=admin
[2025-05-05T17:19:38.182Z] DEBUG: [62eb5376-a2fa-4f80-983c-cce4b26100dd] ğŸ”“ Access granted | user=admin
[2025-05-05T17:19:38.183Z] DEBUG: [62eb5376-a2fa-4f80-983c-cce4b26100dd] â±ï¸ auth middleware complete | duration=3ms
[2025-05-05T17:19:38.183Z] DEBUG: [214ea3b1-ded0-4f58-9597-f73e2127afb3] ğŸ“ Running validation on PATCH /api/agents/DESKTOP-TBUNGH6
[2025-05-05T17:19:38.183Z] INFO: [214ea3b1-ded0-4f58-9597-f73e2127afb3] âœ… Validation passed
[2025-05-05T17:19:38.183Z] DEBUG: [214ea3b1-ded0-4f58-9597-f73e2127afb3] â±ï¸ Validation duration: 0ms
[2025-05-05T17:19:38.183Z] DEBUG: [bbb6b69b-d852-4b4f-af47-86bb49af6b7a] âœï¸ PATCH /agents/DESKTOP-TBUNGH6 | payload={"label":"WebServer","status":1}
[2025-05-05T17:19:38.184Z] DEBUG: [1061090b-f99e-46e0-a4d0-46fe2b54e099] âœï¸ Enter updateAgentByHostname | hostname=DESKTOP-TBUNGH6, fields={"label":"WebServer","status":1}
[2025-05-05T17:19:38.192Z] INFO: [1061090b-f99e-46e0-a4d0-46fe2b54e099] âœï¸ Agent updated via hostname: DESKTOP-TBUNGH6
[2025-05-05T17:19:38.193Z] DEBUG: [1061090b-f99e-46e0-a4d0-46fe2b54e099] â±ï¸ Exit updateAgentByHostname | duration=9ms
[2025-05-05T17:19:38.193Z] INFO: [bbb6b69b-d852-4b4f-af47-86bb49af6b7a] âœ… Agent updated | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:38.193Z] DEBUG: [bbb6b69b-d852-4b4f-af47-86bb49af6b7a] â±ï¸ /agents/:hostname PATCH complete | duration=10ms
[2025-05-05T17:19:38.194Z] INFO: [62eb5376-a2fa-4f80-983c-cce4b26100dd] ğŸ“¤ PATCH /api/agents/DESKTOP-TBUNGH6 | 200 | 14ms
[2025-05-05T17:19:52.561Z] INFO: [c2b6f841-d281-4f53-9dd4-da8741425603] ğŸ“¥ GET /api/agents/claim?hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:52.562Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] ğŸ“ Running validation on GET /api/agents/claim?hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:52.562Z] INFO: [57156505-59ac-4e0c-ab9a-b695e8da49ab] âœ… Validation passed
[2025-05-05T17:19:52.562Z] DEBUG: [57156505-59ac-4e0c-ab9a-b695e8da49ab] â±ï¸ Validation duration: 0ms
[2025-05-05T17:19:52.562Z] DEBUG: [5f0c8151-bbb0-4947-a7d7-c15aabd52ce0] ğŸ“¥ GET /agents/claim | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:52.562Z] DEBUG: [cc6ac3e2-18a4-4c5a-9e93-87117eebc22a] ğŸ” Enter getClaimedAgent | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:52.564Z] DEBUG: [cc6ac3e2-18a4-4c5a-9e93-87117eebc22a] â†©ï¸ getClaimedAgent result | found=true
[2025-05-05T17:19:52.564Z] DEBUG: [cc6ac3e2-18a4-4c5a-9e93-87117eebc22a] â±ï¸ Exit getClaimedAgent | duration=2ms
[2025-05-05T17:19:52.564Z] INFO: [5f0c8151-bbb0-4947-a7d7-c15aabd52ce0] ğŸ“¦ Claim approved | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:19:52.565Z] DEBUG: [5f0c8151-bbb0-4947-a7d7-c15aabd52ce0] â±ï¸ /claim complete | duration=3ms
[2025-05-05T17:19:52.565Z] INFO: [c2b6f841-d281-4f53-9dd4-da8741425603] ğŸ“¤ GET /api/agents/claim?hostname=DESKTOP-TBUNGH6 | 200 | 4ms
[2025-05-05T17:19:57.572Z] INFO: [0f47d05c-665a-4c6b-865c-ae4d77907aa6] ğŸ“¥ POST /api/heartbeat
[2025-05-05T17:19:57.573Z] INFO: [0f47d05c-665a-4c6b-865c-ae4d77907aa6] ğŸ“¤ POST /api/heartbeat | 404 | 1ms
[2025-05-05T17:20:02.760Z] INFO: [5ac5be4b-0eea-4a25-8bcc-2791077ef71f] ğŸ“¥ POST /api/heartbeat
[2025-05-05T17:20:02.761Z] INFO: [5ac5be4b-0eea-4a25-8bcc-2791077ef71f] ğŸ“¤ POST /api/heartbeat | 404 | 1ms
[2025-05-05T17:20:07.763Z] INFO: [5e9ad91b-33aa-4164-8b43-37d320a7b3c0] ğŸ“¥ POST /api/heartbeat
[2025-05-05T17:20:07.764Z] INFO: [5e9ad91b-33aa-4164-8b43-37d320a7b3c0] ğŸ“¤ POST /api/heartbeat | 404 | 1ms
[2025-05-05T17:20:12.759Z] INFO: [7507ded7-2dfd-4ac5-a0e8-cb6c2ce08f70] ğŸ“¥ POST /api/telemetry
[2025-05-05T17:20:12.760Z] DEBUG: [531217cd-80ff-4f2b-859f-34eee32efa13] ğŸ“ Running validation on POST /api/telemetry
[2025-05-05T17:20:12.760Z] INFO: [531217cd-80ff-4f2b-859f-34eee32efa13] âœ… Validation passed
[2025-05-05T17:20:12.760Z] DEBUG: [531217cd-80ff-4f2b-859f-34eee32efa13] â±ï¸ Validation duration: 0ms
[2025-05-05T17:20:12.760Z] DEBUG: [84ae3029-3cf0-482b-877b-9c44d0704f3a] ğŸ›°ï¸ POST /telemetry | Receiving telemetry | hostname=DESKTOP-TBUNGH6
[2025-05-05T17:20:12.760Z] DEBUG: [cbc4d8b5-2e11-4ba8-9140-05c29dc9a4b7] ğŸ“¥ Enter insertTelemetry | safePreview={"hostname":"DESKTOP-TBUNGH6","timestamp":1746465612579,"temperature":{"cpu":null}}
[2025-05-05T17:20:12.761Z] ERROR: [cbc4d8b5-2e11-4ba8-9140-05c29dc9a4b7] âŒ Failed to insert telemetry: Too few parameter values were provided
[2025-05-05T17:20:12.761Z] DEBUG: [cbc4d8b5-2e11-4ba8-9140-05c29dc9a4b7] â±ï¸ Exit insertTelemetry | duration=1ms
[2025-05-05T17:20:12.761Z] ERROR: [84ae3029-3cf0-482b-877b-9c44d0704f3a] âŒ Error inserting telemetry | hostname=DESKTOP-TBUNGH6 | Too few parameter values were provided
[2025-05-05T17:20:12.761Z] DEBUG: [84ae3029-3cf0-482b-877b-9c44d0704f3a] â±ï¸ POST /telemetry complete | duration=1ms
[2025-05-05T17:20:12.761Z] INFO: [7507ded7-2dfd-4ac5-a0e8-cb6c2ce08f70] ğŸ“¤ POST /api/telemetry | 500 | 2ms
[2025-05-05T17:20:12.763Z] INFO: [feef0ac6-800f-4b9a-95fd-df04c0a8f076] ğŸ“¥ POST /api/heartbeat
[2025-05-05T17:20:12.764Z] INFO: [feef0ac6-800f-4b9a-95fd-df04c0a8f076] ğŸ“¤ POST /api/heartbeat | 404 | 1ms
